# Jue Command Line Guide

## üöÄ Getting Started with Jue

Welcome to the Jue command-line interface! This guide will show you how to run Jue programs from the command line.

## üìã Prerequisites

Before you begin, make sure you have:

1. **Rust installed** (version 1.70+)
2. **Project Jue workspace** set up
3. **Built the project** using `cargo build`

## üéØ Basic Usage

### Running a Jue File

The simplest way to run a Jue program is:

```bash
jue path/to/your/file.jue
```

### Example: Running the Simple Example

```bash
jue jue_examples/hello_world.jue
```

This will execute the Jue program with default settings (empirical trust tier, 10,000 steps, 1MB memory).

## üîß Command Line Options

The Jue executable provides many options for controlling execution:

### Trust Tier Selection

Jue supports four trust tiers that control capability access and verification:

```bash
# Formal tier - highest verification, limited capabilities
jue your_file.jue --tier formal

# Verified tier - high verification, more capabilities
jue your_file.jue --tier verified

# Empirical tier - practical execution with runtime checks (default)
jue your_file.jue --tier empirical

# Experimental tier - sandboxed execution for testing
jue your_file.jue --tier experimental
```

### Resource Limits

Control execution resources to prevent runaway programs:

```bash
# Set maximum execution steps
jue your_file.jue --steps 5000

# Set maximum memory usage (in bytes)
jue your_file.jue --memory 2097152  # 2MB

# Combine both
jue your_file.jue --steps 2000 --memory 1048576
```

### Debug and Inspection

For development and debugging:

```bash
# Enable debug output
jue your_file.jue --debug

# Print the parsed AST and exit
jue your_file.jue --print-ast

# Print generated bytecode and exit
jue your_file.jue --print-bytecode

# Print CoreExpr representation (Formal/Verified tiers only)
jue your_file.jue --print-core
```

## üéÆ Interactive REPL Mode

Start an interactive Read-Eval-Print Loop:

```bash
jue --interactive
```

In REPL mode, you can type Jue expressions and see immediate results:

```
Jue Interactive REPL (Ctrl+C to exit)
Type Jue expressions and press Enter to evaluate
jue> 42
=> 42
jue> (exit)
Goodbye!
```

## üìö Complete Command Reference

| Option             | Short | Description                                            | Default         |
| ------------------ | ----- | ------------------------------------------------------ | --------------- |
| `--tier <tier>`    | `-t`  | Trust tier (formal, verified, empirical, experimental) | `empirical`     |
| `--steps <steps>`  | `-s`  | Maximum execution steps                                | `10000`         |
| `--memory <bytes>` | `-m`  | Maximum memory usage in bytes                          | `1048576` (1MB) |
| `--debug`          | `-d`  | Enable debug output                                    | `false`         |
| `--print-ast`      |       | Print parsed AST and exit                              | `false`         |
| `--print-bytecode` |       | Print generated bytecode and exit                      | `false`         |
| `--print-core`     |       | Print CoreExpr representation and exit                 | `false`         |
| `--interactive`    | `-i`  | Start interactive REPL mode                            | `false`         |
| `--help`           | `-h`  | Show help message                                      |                 |
| `--version`        | `-V`  | Show version information                               |                 |

## üß™ Example Workflow

Let's walk through a complete example using the hello world file:

### 1. Create a Jue File

```lisp
;; hello_world.jue
(trust-tier :empirical)
42
```

### 2. Run the File

```bash
jue jue_examples/hello_world.jue
```

Expected output:
```
Executing jue_examples/hello_world.jue with empirical tier

=== Execution Results ===
Output: 42

Resource Usage:
  Steps: 1
  Memory: 0 bytes
  Time: 42.3ms
```

### 3. Debug the Execution

```bash
jue jue_examples/hello_world.jue --debug
```

This shows detailed compilation and execution information.

### 4. Inspect the AST

```bash
jue jue_examples/hello_world.jue --print-ast
```

This shows the parsed Abstract Syntax Tree structure.

### 5. View Help

```bash
jue --help
```

Shows all available command-line options.

## üêõ Troubleshooting

### Common Issues

**File not found:**
```bash
Error reading file 'nonexistent.jue': No such file or directory
```
‚Üí Check the file path and ensure the file exists.

**Compilation errors:**
```bash
Compilation error: Unknown capability: some-capability
```
‚Üí Check your Jue code for syntax errors or invalid capabilities.

**Execution errors:**
```bash
Error: CPU limit exceeded: attempted 10001 steps, limit was 10000
```
‚Üí Increase the step limit or optimize your code.

## üìà Performance Tips

1. **Use appropriate trust tiers**: Formal/Verified tiers have more overhead
2. **Set reasonable resource limits**: Start with conservative limits and increase as needed
3. **Use debug mode for profiling**: Identify performance bottlenecks
4. **Test with simple examples first**: Verify your setup before running complex programs

## üéì Advanced Usage

### Combining Options

You can combine multiple options:

```bash
# Run with formal tier, high resource limits, and debug output
jue your_file.jue --tier formal --steps 50000 --memory 4194304 --debug
```

### Batch Processing

Process multiple files using shell scripts:

```bash
#!/bin/bash
for file in *.jue; do
    echo "Processing $file..."
    jue "$file" --tier empirical --steps 10000
    echo "Done with $file"
    echo "------------------"
done
```

## üîç Understanding Trust Tiers

| Tier             | Capabilities | Verification          | Use Case                              |
| ---------------- | ------------ | --------------------- | ------------------------------------- |
| **Formal**       | Limited      | Full proof generation | Critical systems, mathematical proofs |
| **Verified**     | Moderate     | Proof generation      | High-assurance applications           |
| **Empirical**    | Broad        | Runtime checks        | General programming, development      |
| **Experimental** | Full         | Sandboxed             | Testing, prototyping                  |

## üìã Summary

You now have a complete guide to running Jue programs from the command line! The Jue executable provides:

‚úÖ **Simple file execution**
‚úÖ **Flexible trust tier system**
‚úÖ **Resource limit control**
‚úÖ **Debug and inspection tools**
‚úÖ **Interactive REPL mode**
‚úÖ **Comprehensive error handling**

Start exploring Jue programming today by creating your own `.jue` files and running them with the command-line interface!