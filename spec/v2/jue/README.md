# Project Jue V2: Jue-World Specification

## Directory Structure

This directory contains the V2 Jue-World specifications:

- [`jue_spec_v2.0.md`](jue_spec_v2.0.md) - Main Jue-World specification
- [`language_reference.md`](language_reference.md) - Language syntax and semantics
- [`compilation_pipeline.md`](compilation_pipeline.md) - Trust tiers and compilation paths
- [`macro_system.md`](macro_system.md) - Macro expansion and comptime execution
- [`type_system.md`](type_system.md) - Type annotations and capability integration
- [`error_handling.md`](error_handling.md) - Error handling across trust tiers
- [`api_reference.md`](api_reference.md) - Public compiler API

## Overview

Jue-World V2 evolves from a dual-interpretation language to a **capability-aware compiler bridge**. The key innovation is integrating capabilities into all aspects of compilation: type checking, macro expansion, error handling, and FFI.

## Key Changes from V1

1. **Capability-Aware Compilation**: All privileged operations require capability declarations
2. **Unified Type System**: Types as capability requirements (proof for `:formal`, runtime checks for `:empirical`)
3. **Macro System Integration**: Macros declare required capabilities, inherit caller's capability context
4. **Error Handling**: Capability-gated error inspection, structured Physics errors for violations
5. **Comptime Execution**: Sandboxed compile-time code execution with restricted capabilities

## Relationship to V2 Architecture

Jue-World is the **practical interface** where capabilities meet code. It transforms capability requirements into either Core-World proof obligations or Physics-World runtime checks, depending on trust tier.

## Implementation Notes

Jue-World V2 depends on Physics-World V2 capability system. The compiler must be updated to:
- Parse capability declarations in type signatures
- Insert capability checks in generated bytecode
- Manage capability contexts during macro expansion
- Route compilation based on capability grants